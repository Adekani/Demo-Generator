<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Luxury Real Estate</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: '#0a0a0a',
                        darker: '#050505',
                        gold: '#D4AF37',
                        goldHover: '#B5952F',
                        light: '#F5F5F5',
                        muted: '#A3A3A3',
                        surface: '#171717',
                    },
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Styles & Utilities */
        body {
            background-color: theme('colors.dark');
            color: theme('colors.light');
            font-family: theme('fontFamily.sans');
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6, .font-serif {
            font-family: theme('fontFamily.serif');
        }

        /* Page Transitions */
        .page-section {
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
            min-height: calc(100vh - 70px);
            padding-top: 80px; /* Account for fixed header */
            padding-bottom: 40px;
        }

        .page-section.active {
            display: block;
            opacity: 1;
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Full Screen Loader */
        #loader {
            position: fixed;
            inset: 0;
            background: theme('colors.darker');
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.6s ease;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(212, 175, 55, 0.3);
            border-top-color: theme('colors.gold');
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin { 
            to { transform: rotate(360deg); } 
        }

        /* Mobile Menu Overlay */
        #mobile-menu {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateX(100%);
        }
        #mobile-menu.open {
            transform: translateX(0);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: theme('colors.darker');
        }
        ::-webkit-scrollbar-thumb {
            background: theme('colors.surface');
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: theme('colors.gold');
        }

        /* Image Overlays */
        .image-overlay {
            background: linear-gradient(to top, rgba(5,5,5,0.9) 0%, rgba(5,5,5,0) 100%);
        }

        /* Property Filter Buttons */
        .filter-btn.active {
            background-color: theme('colors.gold');
            color: theme('colors.darker');
            border-color: theme('colors.gold');
        }
    </style>
</head>
<body class="text-light bg-dark">

    <!-- Loading Screen -->
    <div id="loader">
        <div class="spinner mb-4"></div>
        <div class="font-serif text-gold text-xl tracking-widest">INITIALIZING</div>
    </div>

    <!-- Navigation Header -->
    <header class="fixed top-0 w-full z-50 bg-darker/80 backdrop-blur-md border-b border-surface transition-all">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo / Brand Name -->
                <a href="#home" class="flex items-center gap-2">
                    <i class="ph ph-buildings text-gold text-3xl"></i>
                    <span id="header-brand" class="font-serif text-xl font-bold tracking-wide text-white"></span>
                </a>

                <!-- Desktop Nav (Hidden on mobile) -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#home" class="nav-link text-sm uppercase tracking-wider hover:text-gold transition-colors">Home</a>
                    <a href="#properties" class="nav-link text-sm uppercase tracking-wider hover:text-gold transition-colors">Properties</a>
                    <a href="#about" class="nav-link text-sm uppercase tracking-wider hover:text-gold transition-colors">About</a>
                    <a href="#services" class="nav-link text-sm uppercase tracking-wider hover:text-gold transition-colors">Services</a>
                    <a href="#contact" class="nav-link text-sm uppercase tracking-wider hover:text-gold transition-colors">Contact</a>
                </nav>

                <!-- Mobile Menu Button -->
                <button id="menu-btn" class="md:hidden text-light p-2 focus:outline-none">
                    <i class="ph ph-list text-3xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Slide-out Menu -->
    <div id="mobile-menu" class="fixed inset-0 z-40 bg-darker/95 backdrop-blur-lg flex flex-col justify-center items-center gap-8 md:hidden">
        <button id="close-menu-btn" class="absolute top-6 right-6 text-light p-2 focus:outline-none">
            <i class="ph ph-x text-3xl"></i>
        </button>
        <a href="#home" class="mobile-link text-2xl font-serif tracking-widest hover:text-gold transition-colors">HOME</a>
        <a href="#properties" class="mobile-link text-2xl font-serif tracking-widest hover:text-gold transition-colors">PROPERTIES</a>
        <a href="#about" class="mobile-link text-2xl font-serif tracking-widest hover:text-gold transition-colors">ABOUT</a>
        <a href="#services" class="mobile-link text-2xl font-serif tracking-widest hover:text-gold transition-colors">SERVICES</a>
        <a href="#contact" class="mobile-link text-2xl font-serif tracking-widest hover:text-gold transition-colors">CONTACT</a>
        
        <div class="absolute bottom-10 flex gap-6 text-gold">
            <i class="ph ph-instagram-logo text-3xl"></i>
            <i class="ph ph-twitter-logo text-3xl"></i>
            <i class="ph ph-facebook-logo text-3xl"></i>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- 1. HOME PAGE -->
        <section id="home" class="page-section">
            <div class="relative rounded-2xl overflow-hidden h-[70vh] mb-12 flex items-end">
                <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?auto=format&fit=crop&w=1600&q=80" alt="Luxury Home" class="absolute inset-0 w-full h-full object-cover">
                <div class="absolute inset-0 image-overlay"></div>
                <div class="relative z-10 p-6 md:p-12 w-full max-w-2xl">
                    <span class="text-gold uppercase tracking-[0.2em] text-xs font-semibold mb-3 block">Welcome to</span>
                    <h1 class="brand-name-full text-4xl md:text-6xl font-serif font-bold text-white leading-tight mb-4">Premium Real Estate</h1>
                    <p class="text-gray-300 text-sm md:text-base mb-8 max-w-md">Discover unparalleled luxury, architectural brilliance, and exclusive addresses across Nigeria's most prestigious neighborhoods.</p>
                    <a href="#properties" class="inline-block bg-gold hover:bg-goldHover text-darker font-semibold px-8 py-3 rounded-none uppercase tracking-wider text-sm transition-colors">
                        Explore Portfolio
                    </a>
                </div>
            </div>

            <!-- Highlights -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
                <div class="bg-surface p-6 rounded-xl text-center border border-white/5">
                    <i class="ph ph-house-line text-4xl text-gold mb-3 mx-auto"></i>
                    <h3 class="font-bold text-xl mb-1 text-white">150+</h3>
                    <p class="text-xs text-muted uppercase tracking-wider">Premium Listings</p>
                </div>
                <div class="bg-surface p-6 rounded-xl text-center border border-white/5">
                    <i class="ph ph-handshake text-4xl text-gold mb-3 mx-auto"></i>
                    <h3 class="font-bold text-xl mb-1 text-white">98%</h3>
                    <p class="text-xs text-muted uppercase tracking-wider">Client Satisfaction</p>
                </div>
                <div class="bg-surface p-6 rounded-xl text-center border border-white/5">
                    <i class="ph ph-map-pin-line text-4xl text-gold mb-3 mx-auto"></i>
                    <h3 class="font-bold text-xl mb-1 text-white">Top</h3>
                    <p class="text-xs text-muted uppercase tracking-wider">Locations</p>
                </div>
                <div class="bg-surface p-6 rounded-xl text-center border border-white/5">
                    <i class="ph ph-award text-4xl text-gold mb-3 mx-auto"></i>
                    <h3 class="font-bold text-xl mb-1 text-white">Award</h3>
                    <p class="text-xs text-muted uppercase tracking-wider">Winning Agency</p>
                </div>
            </div>
        </section>

        <!-- 2. PROPERTIES PAGE -->
        <section id="properties" class="page-section">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-serif font-bold text-white mb-3">Exclusive Listings</h2>
                <p class="text-muted text-sm max-w-md mx-auto">Browse our curated selection of high-end properties designed for the modern elite.</p>
            </div>

            <!-- Filters -->
            <div class="flex flex-wrap justify-center gap-3 mb-10">
                <button class="filter-btn active border border-surface px-6 py-2 rounded-full text-sm font-medium transition-colors" data-filter="all">All</button>
                <button class="filter-btn border border-surface px-6 py-2 rounded-full text-sm font-medium transition-colors" data-filter="sale">For Sale</button>
                <button class="filter-btn border border-surface px-6 py-2 rounded-full text-sm font-medium transition-colors" data-filter="rent">For Rent</button>
                <button class="filter-btn border border-surface px-6 py-2 rounded-full text-sm font-medium transition-colors" data-filter="commercial">Commercial</button>
            </div>

            <!-- Property Grid -->
            <div id="property-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Injected via JS -->
            </div>
        </section>

        <!-- 3. ABOUT PAGE -->
        <section id="about" class="page-section">
            <div class="flex flex-col md:flex-row gap-10 items-center mb-16">
                <div class="w-full md:w-1/2 relative">
                    <div class="absolute inset-0 bg-gold rounded-2xl transform translate-x-3 translate-y-3 z-0"></div>
                    <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?auto=format&fit=crop&w=800&q=80" alt="About Us" class="relative z-10 w-full h-[400px] object-cover rounded-2xl shadow-2xl">
                </div>
                <div class="w-full md:w-1/2">
                    <span class="text-gold uppercase tracking-[0.2em] text-xs font-semibold mb-2 block">Our Story</span>
                    <h2 class="text-3xl font-serif font-bold text-white mb-6">Redefining Luxury Living in Nigeria</h2>
                    <p class="text-muted text-sm leading-relaxed mb-4">
                        At <strong class="brand-name-full text-light font-medium"></strong>, we don't just sell properties; we curate lifestyles. Established with a vision to transform the real estate landscape in West Africa, we offer an exclusive portfolio of high-end residential and commercial spaces.
                    </p>
                    <p class="text-muted text-sm leading-relaxed mb-6">
                        From the serene waterfronts of Banana Island to the bustling business districts of Victoria Island and Maitama, our local expertise and global standards ensure that our clients receive nothing but unparalleled excellence.
                    </p>
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full bg-surface flex items-center justify-center border border-gold">
                            <i class="ph ph-shield-check text-gold text-2xl"></i>
                        </div>
                        <div>
                            <h4 class="text-white text-sm font-bold">Verified Properties</h4>
                            <p class="text-xs text-muted">100% secure transactions</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. SERVICES PAGE -->
        <section id="services" class="page-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-serif font-bold text-white mb-3">Our Expertise</h2>
                <p class="text-muted text-sm max-w-md mx-auto">Comprehensive real estate solutions tailored to your unique lifestyle and investment goals.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Service 1 -->
                <div class="bg-surface p-8 rounded-2xl border border-white/5 hover:border-gold/50 transition-colors group">
                    <div class="w-14 h-14 bg-darker rounded-full flex items-center justify-center mb-6 group-hover:bg-gold transition-colors">
                        <i class="ph ph-key text-gold text-2xl group-hover:text-darker"></i>
                    </div>
                    <h3 class="text-xl font-serif text-white mb-3">Premium Brokerage</h3>
                    <p class="text-sm text-muted leading-relaxed">Expert representation for buyers and sellers of luxury homes, apartments, and penthouses across prime Nigerian locations.</p>
                </div>
                <!-- Service 2 -->
                <div class="bg-surface p-8 rounded-2xl border border-white/5 hover:border-gold/50 transition-colors group">
                    <div class="w-14 h-14 bg-darker rounded-full flex items-center justify-center mb-6 group-hover:bg-gold transition-colors">
                        <i class="ph ph-buildings text-gold text-2xl group-hover:text-darker"></i>
                    </div>
                    <h3 class="text-xl font-serif text-white mb-3">Property Management</h3>
                    <p class="text-sm text-muted leading-relaxed">End-to-end management of your assets ensuring high yields, meticulous maintenance, and peace of mind.</p>
                </div>
                <!-- Service 3 -->
                <div class="bg-surface p-8 rounded-2xl border border-white/5 hover:border-gold/50 transition-colors group">
                    <div class="w-14 h-14 bg-darker rounded-full flex items-center justify-center mb-6 group-hover:bg-gold transition-colors">
                        <i class="ph ph-chart-line-up text-gold text-2xl group-hover:text-darker"></i>
                    </div>
                    <h3 class="text-xl font-serif text-white mb-3">Investment Advisory</h3>
                    <p class="text-sm text-muted leading-relaxed">Strategic guidance on real estate portfolios, market trends, and high-ROI developments in emerging markets.</p>
                </div>
            </div>
        </section>

        <!-- 5. CONTACT PAGE -->
        <section id="contact" class="page-section">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10 bg-surface rounded-2xl overflow-hidden border border-white/5">
                
                <!-- Contact Info -->
                <div class="p-8 md:p-12 flex flex-col justify-center">
                    <span class="text-gold uppercase tracking-[0.2em] text-xs font-semibold mb-2 block">Get In Touch</span>
                    <h2 class="text-3xl font-serif font-bold text-white mb-8">Schedule a Private Viewing</h2>
                    
                    <div class="space-y-6">
                        <div class="flex items-start gap-4">
                            <i class="ph ph-map-pin text-gold text-2xl mt-1"></i>
                            <div>
                                <h4 class="text-white text-sm font-bold mb-1">Corporate Office</h4>
                                <p class="text-muted text-sm leading-relaxed">15 Admiralty Way, Lekki Phase 1<br>Lagos, Nigeria</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <i class="ph ph-phone text-gold text-2xl"></i>
                            <div>
                                <h4 class="text-white text-sm font-bold mb-1">Direct Line</h4>
                                <p class="text-muted text-sm">+234 (0) 800 123 4567</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <i class="ph ph-envelope-simple text-gold text-2xl"></i>
                            <div>
                                <h4 class="text-white text-sm font-bold mb-1">Email</h4>
                                <p class="text-muted text-sm">concierge@<span class="brand-domain-placeholder">luxuryrealestate.com</span></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contact Form -->
                <div class="bg-darker p-8 md:p-12 border-l border-white/5">
                    <form onsubmit="event.preventDefault(); alert('Message sent successfully. Our concierge will contact you shortly.');" class="space-y-4">
                        <div>
                            <label class="block text-xs uppercase tracking-wider text-muted mb-2">Full Name</label>
                            <input type="text" required class="w-full bg-transparent border-b border-white/20 focus:border-gold outline-none py-2 text-white transition-colors" placeholder="Chief Odunayo">
                        </div>
                        <div>
                            <label class="block text-xs uppercase tracking-wider text-muted mb-2">Phone Number</label>
                            <input type="tel" required class="w-full bg-transparent border-b border-white/20 focus:border-gold outline-none py-2 text-white transition-colors" placeholder="+234...">
                        </div>
                        <div>
                            <label class="block text-xs uppercase tracking-wider text-muted mb-2">Message</label>
                            <textarea required rows="3" class="w-full bg-transparent border-b border-white/20 focus:border-gold outline-none py-2 text-white transition-colors resize-none" placeholder="I am interested in..."></textarea>
                        </div>
                        <button type="submit" class="w-full bg-gold hover:bg-goldHover text-darker font-bold py-3 uppercase tracking-wider text-sm transition-colors mt-4">
                            Send Inquiry
                        </button>
                    </form>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-surface mt-12 py-8 text-center text-sm text-muted">
        <p>&copy; <span id="current-year"></span> <span class="brand-name-full font-serif italic text-white"></span>. All rights reserved.</p>
        <p class="text-xs mt-2">Premium Real Estate Solutions in Nigeria.</p>
    </footer>

    <!-- Supabase Client & App Logic -->
    <script type="module">
        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm'

        // Constants
        const SUPABASE_URL = 'https://xsdudtnszfszlvjpqrij.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzZHVkdG5zemZzemx2anBxcmlqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE1NjkwOTIsImV4cCI6MjA4NzE0NTA5Mn0.v51jTNwUGBMzX4PlAdBMNSj25XBVirLhiqStKSsFBuw';
        
        let brandName = "Premium Real Estate"; // Fallback name

        // Initialize Supabase
        const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

        // --- MOCK PROPERTY DATA ---
        const properties = [
            { id: 1, title: "5 Bedroom Detached Duplex", location: "Ikoyi, Lagos", price: "₦450,000,000", type: "sale", beds: 5, baths: 6, sqft: "850", img: "https://images.unsplash.com/photo-1613977257363-707ba9348227?auto=format&fit=crop&w=600&q=80" },
            { id: 2, title: "Luxury Penthouse Suite", location: "Eko Atlantic City", price: "₦80,000,000 / yr", type: "rent", beds: 3, baths: 4, sqft: "420", img: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=600&q=80" },
            { id: 3, title: "Modern Smart Home", location: "Banana Island, Lagos", price: "₦1,200,000,000", type: "sale", beds: 6, baths: 7, sqft: "1200", img: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=600&q=80" },
            { id: 4, title: "Grade A Office Space", location: "Victoria Island, Lagos", price: "₦150,000 / sqm", type: "commercial", beds: 0, baths: 4, sqft: "1000", img: "https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=600&q=80" },
            { id: 5, title: "Waterfront Terrace Duplex", location: "Lekki Phase 1, Lagos", price: "₦250,000,000", type: "sale", beds: 4, baths: 4, sqft: "550", img: "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?auto=format&fit=crop&w=600&q=80" },
            { id: 6, title: "Boutique Retail Plaza", location: "Maitama, Abuja", price: "₦850,000,000", type: "commercial", beds: 0, baths: 8, sqft: "2500", img: "https://images.unsplash.com/photo-1555636222-cae831e670b3?auto=format&fit=crop&w=600&q=80" },
        ];

        // --- APP INITIALIZATION ---
        async function init() {
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // 1. Get ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get('id');

            // 2. Fetch Brand Name
            if (id) {
                try {
                    const { data, error } = await supabase
                        .from('Demos')
                        .select('business_name')
                        .eq('id', id)
                        .single();

                    if (data && data.business_name) {
                        brandName = data.business_name;
                    } else {
                        console.warn("ID not found or error:", error);
                    }
                } catch (err) {
                    console.error("Failed to fetch brand name:", err);
                }
            }

            // 3. Update UI with Brand Name
            applyBrandName(brandName);

            // 4. Setup Routing & initial render
            setupRouter();
            renderProperties('all');
            setupPropertyFilters();
            setupMobileMenu();

            // 5. Hide Loader
            setTimeout(() => {
                const loader = document.getElementById('loader');
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 600);
            }, 800);
        }

        // --- HELPER FUNCTIONS ---

        function applyBrandName(name) {
            // Document Title
            document.title = `${name} | Luxury Real Estate`;

            // Logic for Header Logo (Acronym if too long)
            let headerName = name;
            if (name.length > 18) {
                // Create acronym: e.g. "Adekunle Gold Premium Real Estate" -> "AGPRE"
                headerName = name.split(' ').map(word => word.charAt(0)).join('').toUpperCase();
            }
            document.getElementById('header-brand').textContent = headerName;

            // Fill all full name placeholders
            document.querySelectorAll('.brand-name-full').forEach(el => {
                el.textContent = name;
            });

            // Create a fake domain for the email
            const fakeDomain = name.toLowerCase().replace(/[^a-z0-9]/g, '') + '.com';
            document.querySelectorAll('.brand-domain-placeholder').forEach(el => {
                el.textContent = fakeDomain;
            });
        }

        function setupRouter() {
            const handleHashChange = () => {
                let hash = window.location.hash || '#home';
                
                // Hide all sections
                document.querySelectorAll('.page-section').forEach(sec => {
                    sec.classList.remove('active');
                });

                // Show active section
                const activeSection = document.querySelector(hash);
                if (activeSection) {
                    activeSection.classList.add('active');
                    window.scrollTo(0, 0);
                }

                // Update nav links colors
                document.querySelectorAll('.nav-link, .mobile-link').forEach(link => {
                    if (link.getAttribute('href') === hash) {
                        link.classList.add('text-gold');
                        link.classList.remove('text-light');
                    } else {
                        link.classList.remove('text-gold');
                        link.classList.add('text-light');
                    }
                });
            };

            window.addEventListener('hashchange', handleHashChange);
            handleHashChange(); // Trigger on load
        }

        function setupMobileMenu() {
            const menuBtn = document.getElementById('menu-btn');
            const closeBtn = document.getElementById('close-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileLinks = document.querySelectorAll('.mobile-link');

            const toggleMenu = () => {
                mobileMenu.classList.toggle('open');
            };

            menuBtn.addEventListener('click', toggleMenu);
            closeBtn.addEventListener('click', toggleMenu);
            
            // Close menu when clicking a link
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.remove('open');
                });
            });
        }

        function renderProperties(filterType) {
            const grid = document.getElementById('property-grid');
            grid.innerHTML = '';

            const filtered = filterType === 'all' 
                ? properties 
                : properties.filter(p => p.type === filterType);

            if (filtered.length === 0) {
                grid.innerHTML = `<div class="col-span-full text-center text-muted py-10">No properties found for this category.</div>`;
                return;
            }

            filtered.forEach(prop => {
                const badgeColor = prop.type === 'sale' ? 'bg-blue-900/50 text-blue-300 border-blue-800' : 
                                  prop.type === 'rent' ? 'bg-green-900/50 text-green-300 border-green-800' : 
                                  'bg-purple-900/50 text-purple-300 border-purple-800';
                                  
                const badgeText = prop.type === 'sale' ? 'For Sale' : 
                                 prop.type === 'rent' ? 'For Rent' : 'Commercial';

                const card = document.createElement('div');
                card.className = "bg-surface rounded-2xl overflow-hidden border border-white/5 hover:border-gold/30 transition-all group cursor-pointer";
                card.innerHTML = `
                    <div class="relative h-60 overflow-hidden">
                        <img src="${prop.img}" alt="${prop.title}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
                        <div class="absolute top-4 right-4 ${badgeColor} border px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider backdrop-blur-md">
                            ${badgeText}
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-serif text-white font-bold mb-1 truncate">${prop.title}</h3>
                        <p class="text-muted text-sm flex items-center gap-1 mb-4">
                            <i class="ph ph-map-pin text-gold"></i> ${prop.location}
                        </p>
                        <div class="text-gold font-bold text-xl mb-4 border-b border-white/10 pb-4">${prop.price}</div>
                        
                        <div class="flex justify-between text-muted text-sm">
                            ${prop.beds > 0 ? `<div class="flex items-center gap-1"><i class="ph ph-bed text-lg"></i> ${prop.beds} Beds</div>` : ''}
                            <div class="flex items-center gap-1"><i class="ph ph-bathtub text-lg"></i> ${prop.baths} Baths</div>
                            <div class="flex items-center gap-1"><i class="ph ph-squares-four text-lg"></i> ${prop.sqft} sqm</div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function setupPropertyFilters() {
            const btns = document.querySelectorAll('.filter-btn');
            btns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    // Remove active from all
                    btns.forEach(b => {
                        b.classList.remove('active');
                        b.classList.remove('bg-gold', 'text-darker');
                    });
                    
                    // Add active to clicked
                    const target = e.target;
                    target.classList.add('active');
                    
                    // Filter logic
                    const filterValue = target.getAttribute('data-filter');
                    renderProperties(filterValue);
                });
            });
        }

        // Start Application
        window.addEventListener('DOMContentLoaded', init);

    </script>
</body>
</html>